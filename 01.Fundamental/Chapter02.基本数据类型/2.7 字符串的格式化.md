# 字符串格式化

不同于数字类型的操作，字符串的操作更加多样化，和其他语言一样，字符串的基本操作——格式化输出，依旧是重点。格式化输出是计算机语言必不可少的部分。

格式符存在的目的是为真实值进行占位，方便控制显示输出的格式。

## 1. % 格式化操作符

Python中内置的%操作符可用于格式化字符串操作，控制字符串的输出。

| 格式化操作符 | 功能描述                                   |
| ------------ | ------------------------------------------ |
| %s           | 格式化字符串                               |
| %c           | 格式化单个字符                             |
| %d           | 格式化十进制整数                           |
| %u           | 格式化无符号数                             |
| %o           | 格式化无符号八进制数                       |
| %x           | 格式化无符号十六进制数                     |
| %f           | 格式化浮点数                               |
| %e           | 用科学计数法格式化浮点数，e为基底          |
| %E           | 同 %e                                      |
| %g           | 格式化十进制数或者浮点数（相当于 %f 和 %e) |
| %G           | 同 %g                                      |
| %p           | 用十六进制数格式化变量的地址               |
| %%           | 字符 %                                     |

- 对 Python 的输出可以进一步进行控制，采用如下方式：

  ​		`%[(name)][flags][width].[precision]typecode`

  

  格式含义如下：

  ​		`%[命名][对齐方式][显示宽度].[小数点后精度] 格式化操作符`

  

  参数如下：

  1. name：命名可以选择，用于指定key。
  2. flags：对齐方式，表示右对齐，-表示左对齐，0表示用0填充，若为空格则表示正数左侧填充空格。　
  3. width：显示宽度。　
  4. precision：小数点后精度。　
  5. typecode：格式化操作符。

  

- 例子：格式化输出数值

  ```python
  print("%10.3f"%10)
  print("%04d"%6)
  print("%16.3f"%3.3)
  
  #    10.000
  # 0006
  #           3.300
  ```

## 2. format() 方法 

从Python 2.6开始，新增了一个格式化字符串的函数format()，它增强了字符串格式化的功能。

相对于前面学到的基础的格式化方法，此方法通过{}和:来代替传统%格式化方式。

format()既能够用于简单的场景，也能够胜任复杂的字符串替换，而无需烦琐的字符串连接操作。

Python的内置类型str和unicode均支持使用format()来格式化字符串。

#### 格式化方法：

- `[[fill] align][sign][#][0][width][,][.precision][type]`

参数：

- fill：可选项，用于填充空白处的字符。　
- align：选项，定义对齐的方式。通常和参数width一起使用，
- <：采用左对齐方式。
- \>：采用右对齐方式，此方式为默认采用的方式。
- =：采用右对齐，且将符号位放在填充字符的左侧，只对数字类型有效。
- ^：进行居中对齐。　
- sign：可选项，决定数字符号相关。
- +：正号表示正数加正号，负数加负号。
- -：正数符号不变，负数加上负号，此方式为默认采用的方式。
- 空格：正数加空格，负数加负号。　
- #：可选项，显示进制，如果对二进制、八进制、十六进制加上#，会显示0b/0o/0x，否则不显示。　
- ，：可选项，用于给数字添加数学分隔符，例如40,000。　
- width：可选项，格式化占有宽度。　
- .precision：可选项，指定小数点要保留的精度。　
- type：可选项，格式化类型符号。

例子

format()函数采用**{}**和**:**进行格式化

- 填充和格式化

  ```python
  print("{0:*>10}".format(6))    # 右对齐
  print("{0:*<10}".format(6))    # 左对齐
  print("{0:*^10}".format(6))    # 居中对齐
  
  # *********6
  # 6*********
  # ****6*****
  ```

- 精度与进制

  ```python
  print("{0:.3f}".format(1/7))    # 保留 3 位有效数字
  print("{0:b}".format(100))      # 格式化为 二进制
  print("{0:x}".format(100))      # 格式化为 十六进制
  print("{0:o}".format(100))      # 格式化为 八进制
  
  
  # 0.143
  # 1100100
  # 64
  # 144
  
  ```

  format()允许参数位置可以自由化，通过相应的参数值来进行对应，实例如下。

- 位置对应

  ```python
  A = ["World","Life"]
  print("This is our {}, this is my {}".format(*A))
  print("This is our {1}, this is my {0}".format(*A))
  print("This is our {0}, this is my {1}".format(*A))
  print("This is our {1}, this is my {00}".format(*A))
  print("This is our {1}, this is my {0}{0}".format(*A))
  
  # This is our World, this is my Life
  # This is our Life, this is my World
  # This is our World, this is my Life
  # This is our Life, this is my World
  # This is our Life, this is my WorldWorld
  ```

  